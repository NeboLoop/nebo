# Auto-generated by CI â€” do not edit manually
class Nebo < Formula
  desc "AI agent with web UI - your personal AI companion"
  homepage "https://github.com/nebolabs/nebo"
  version "${PKG_VERSION}"
  license "MIT"

  on_macos do
    on_arm do
      url "https://github.com/nebolabs/nebo/releases/download/${VERSION}/nebo-darwin-arm64"
      sha256 "${SHA_DARWIN_ARM64}"

      def install
        bin.install "nebo-darwin-arm64" => "nebo"
      end
    end

    on_intel do
      url "https://github.com/nebolabs/nebo/releases/download/${VERSION}/nebo-darwin-amd64"
      sha256 "${SHA_DARWIN_AMD64}"

      def install
        bin.install "nebo-darwin-amd64" => "nebo"
      end
    end
  end

  on_linux do
    on_arm do
      url "https://github.com/nebolabs/nebo/releases/download/${VERSION}/nebo-linux-arm64"
      sha256 "${SHA_LINUX_ARM64}"

      def install
        bin.install "nebo-linux-arm64" => "nebo"
      end
    end

    on_intel do
      url "https://github.com/nebolabs/nebo/releases/download/${VERSION}/nebo-linux-amd64"
      sha256 "${SHA_LINUX_AMD64}"

      def install
        bin.install "nebo-linux-amd64" => "nebo"
      end
    end
  end

  def caveats
    <<~EOS
      To start Nebo (desktop mode with native window):
        nebo

      To start headless (browser-only):
        nebo --headless

      Data directory:
        macOS:  ~/Library/Application Support/Nebo/
        Linux:  ~/.config/nebo/
    EOS
  end

  test do
    assert_match "nebo", shell_output("#{bin}/nebo --help")
  end
end
