# GoBot Model Configuration
# This file defines available AI models and their settings.
# API keys are stored securely in the database, not here.
#
# To add API keys: Settings > Providers in the web UI
#
# Provider Types:
#   - API providers: Require API keys, direct API calls
#   - CLI providers: Use installed CLI tools (claude, codex, gemini)
#     No API keys needed - uses your existing account auth
#
# CLI providers are auto-detected based on installed tools.
# To install: brew install claude-code, npm i -g @openai/codex, npm i -g @google/gemini-cli
#
# Updated: January 2026 - Latest model IDs

version: "1.0"

# Provider credentials (use environment variables or UI)
credentials:
  anthropic:
    api_key: ${ANTHROPIC_API_KEY}
  openai:
    api_key: ${OPENAI_API_KEY}
  google:
    api_key: ${GOOGLE_API_KEY}
  deepseek:
    api_key: ${DEEPSEEK_API_KEY}

# Model selection defaults
defaults:
  # Primary provider/model (used first)
  # Format: "provider/model" or just "provider" (uses provider's default)
  primary: anthropic/claude-sonnet-4-5-20250929

  # Fallback chain (tried in order if primary fails)
  fallbacks:
    - anthropic/claude-haiku-4-5-20250929
    - claude-cli/sonnet      # Falls back to CLI if API fails
    - gemini-cli             # Free fallback with 1M context

# Task-based model routing
# Automatically selects the best model based on the task type
task_routing:
  vision: anthropic/claude-sonnet-4-5-20250929
  audio: openai/gpt-5.2-audio
  reasoning: anthropic/claude-opus-4-5-20250929
  code: anthropic/claude-sonnet-4-5-20250929
  general: anthropic/claude-sonnet-4-5-20250929
  fallbacks:
    vision:
      - anthropic/claude-opus-4-5-20250929
      - openai/gpt-5.2
    reasoning:
      - openai/o3
      - anthropic/claude-sonnet-4-5-20250929
    code:
      - anthropic/claude-opus-4-5-20250929
      - openai/gpt-5.2-codex
    general:
      - anthropic/claude-haiku-4-5-20250929
      - openai/gpt-5.2

# Available models by provider
providers:
  anthropic:
    - id: claude-sonnet-4-5-20250929
      displayName: Claude Sonnet 4.5
      contextWindow: 1000000
      capabilities: [vision, tools, streaming, code, thinking]
      pricing:
        input: 3.0
        output: 15.0
        cachedInput: 0.30
      active: true
    - id: claude-opus-4-5-20250929
      displayName: Claude Opus 4.5
      contextWindow: 1000000
      capabilities: [vision, tools, streaming, code, reasoning, thinking]
      pricing:
        input: 15.0
        output: 75.0
        cachedInput: 1.50
      active: true
    - id: claude-haiku-4-5-20250929
      displayName: Claude Haiku 4.5
      contextWindow: 1000000
      capabilities: [vision, tools, streaming, code]
      pricing:
        input: 0.80
        output: 4.0
        cachedInput: 0.08
      active: true

  openai:
    - id: gpt-5.2
      displayName: GPT-5.2
      contextWindow: 256000
      capabilities: [vision, tools, streaming, code]
      active: true
    - id: gpt-5.2-codex
      displayName: GPT-5.2 Codex
      contextWindow: 256000
      capabilities: [tools, streaming, code, reasoning]
      active: true
    - id: o3
      displayName: o3
      contextWindow: 256000
      capabilities: [reasoning, code, tools]
      active: true
    - id: o4-mini
      displayName: o4-mini
      contextWindow: 128000
      capabilities: [reasoning, code]
      active: true

  google:
    - id: gemini-3-flash-preview
      displayName: Gemini 3 Flash (Preview)
      contextWindow: 1000000
      capabilities: [vision, tools, streaming, code]
      active: true
    - id: gemini-3-pro-preview
      displayName: Gemini 3 Pro (Preview)
      contextWindow: 1000000
      capabilities: [vision, tools, streaming, code, reasoning]
      active: true
    - id: gemini-2.5-flash
      displayName: Gemini 2.5 Flash
      contextWindow: 1000000
      capabilities: [vision, tools, streaming, code]
      active: true

  deepseek:
    - id: deepseek-chat
      displayName: DeepSeek Chat
      contextWindow: 128000
      capabilities: [tools, streaming, code]
      active: true
    - id: deepseek-reasoner
      displayName: DeepSeek Reasoner
      contextWindow: 128000
      capabilities: [reasoning, code]
      active: true

  ollama:
    - id: llama3.3
      displayName: Llama 3.3
      contextWindow: 128000
      capabilities: [streaming, tools]
      active: true
    - id: qwen2.5
      displayName: Qwen 2.5
      contextWindow: 128000
      capabilities: [streaming, code]
      active: true
    - id: mistral
      displayName: Mistral
      contextWindow: 32000
      capabilities: [streaming]
      active: true

# ============================================
# CLI PROVIDERS (no API key required)
# ============================================
# These use locally installed CLI tools.
# Auto-detected: if the command exists in PATH, it's available.
# Auth: Uses your existing account (Claude subscription, ChatGPT, Google)

  claude-cli:
    type: cli
    command: claude
    install: "brew install claude-code"
    description: "Claude Code CLI - uses your Claude subscription"
    models:
      - id: opus
        displayName: Claude Opus (CLI)
        contextWindow: 1000000
      - id: sonnet
        displayName: Claude Sonnet (CLI)
        contextWindow: 1000000
      - id: haiku
        displayName: Claude Haiku (CLI)
        contextWindow: 1000000

  codex-cli:
    type: cli
    command: codex
    install: "npm i -g @openai/codex"
    description: "OpenAI Codex CLI - uses your ChatGPT account"
    models:
      - id: gpt-5.2
        displayName: GPT-5.2 (Codex)
        contextWindow: 256000
      - id: o3
        displayName: o3 (Codex)
        contextWindow: 256000

  gemini-cli:
    type: cli
    command: gemini
    install: "npm i -g @google/gemini-cli"
    description: "Gemini CLI - FREE 1000 req/day, 1M context"
    models:
      - id: gemini-3-flash
        displayName: Gemini 3 Flash (CLI)
        contextWindow: 1000000
